{"version":3,"sources":["core/toasts.js","actions/toasts.js","components/toasts.js"],"names":["dmx","bs5toast","defaults","iconType","position","align","offsetX","offsetY","zIndex","minWidth","maxWidth","animation","autohide","closable","delay","headerClass","bodyClass","container","setup","options","Object","assign","document","createElement","body","appendChild","removeAttribute","style","setProperty","clear","textContent","show","node","create","toast","bootstrap","Toast","addEventListener","removeChild","once","className","setAttribute","icon","title","subtitle","header","test","isImageFile","innerHTML","alt","strong","small","button","type","message","Actions","this","parse","Component","attributes","String","default","enum","Number","methods","_clear","_show","init","props","performUpdate","updatedProps"],"mappings":"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","file":"dmxBootstrap5Toasts.js","sourcesContent":["dmx.bs5toast = {\r\n  defaults: {\r\n    iconType: 'image',\r\n    position: 'top',\r\n    align: 'right',\r\n    offsetX: 15,\r\n    offsetY: 15,\r\n    zIndex: 10000,\r\n    minWidth: 240,\r\n    maxWidth: 350,\r\n    animation: true,\r\n    autohide: true,\r\n    closable: true,\r\n    delay: 5000,\r\n    headerClass: '',\r\n    bodyClass: '',\r\n  },\r\n\r\n  container: null,\r\n\r\n  setup (options) {\r\n    options = Object.assign(dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.container = document.createElement('div');\r\n      document.body.appendChild(dmx.bs5toast.container);\r\n    }\r\n\r\n    const container = dmx.bs5toast.container;\r\n    container.removeAttribute('style');\r\n\r\n    container.style.setProperty('position', 'fixed');\r\n    container.style.setProperty('z-index', options.zIndex);\r\n    container.style.setProperty(options.align, options.offsetX + 'px');\r\n    container.style.setProperty(options.position, options.offsetY + 'px');\r\n    if (options.maxWidth) {\r\n      container.style.setProperty('max-width', options.maxWidth + 'px');\r\n    }\r\n  },\r\n\r\n  clear () {\r\n    if (dmx.bs5toast.container) {\r\n      dmx.bs5toast.container.textContent = '';\r\n    }\r\n  },\r\n\r\n  show (options) {\r\n    options = Object.assign({}, dmx.bs5toast.defaults, options);\r\n\r\n    if (!dmx.bs5toast.container) {\r\n      dmx.bs5toast.setup();\r\n    }\r\n\r\n    const node = dmx.bs5toast.create(options);\r\n    dmx.bs5toast.container.appendChild(node);\r\n\r\n    const toast = new bootstrap.Toast(node, options);\r\n    node.addEventListener('hidden.bs.toast', () => dmx.bs5toast.container.removeChild(node), { once: true });\r\n    toast.show();\r\n  },\r\n\r\n  create (options) {\r\n    const node = document.createElement('div');\r\n    node.className = 'toast';\r\n    node.setAttribute('role', 'alert');\r\n    node.setAttribute('aria-live', 'assertive');\r\n    node.setAttribute('aria-atomic', 'true');\r\n    node.setAttribute('data-delay', options.delay);\r\n\r\n    if (options.minWidth) {\r\n      node.style.setProperty('min-width', options.minWidth + 'px');\r\n    }\r\n\r\n    if (options.icon || options.title || options.subtitle || options.closable) {\r\n      const header = document.createElement('div');\r\n      header.className = 'toast-header ' + options.headerClass;\r\n\r\n      if (options.icon) {\r\n        const isImageFile = (icon) => /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(icon);\r\n\r\n        if (isImageFile(options.icon)) {\r\n          header.innerHTML = `<img src=\"${options.icon}\" height=\"20\" class=\"rounded me-2\" alt=\"${options.alt || ''}\">`;\r\n        } else {\r\n          header.innerHTML = `<i class=\"${options.icon} me-2\"></i>`;\r\n        }\r\n      }\r\n\r\n      if (options.title || options.subtitle || options.closable) {\r\n        const strong = document.createElement('strong');\r\n        strong.className = 'me-auto';\r\n        strong.textContent = options.title || '';\r\n        \r\n        header.appendChild(strong);\r\n      }\r\n\r\n      if (options.subtitle) {\r\n        const small = document.createElement('small');\r\n        small.textContent = options.subtitle;\r\n\r\n        header.appendChild(small);\r\n      }\r\n\r\n      if (options.closable) {\r\n        const button = document.createElement('button');\r\n        button.type = 'button';\r\n        button.className = 'btn-close';\r\n        button.setAttribute('data-bs-dismiss', 'toast');\r\n        button.setAttribute('aria-label', 'Close');\r\n\r\n        header.appendChild(button);\r\n      }\r\n\r\n      node.appendChild(header);\r\n    }\r\n\r\n    if (options.message) {\r\n      const body = document.createElement('div');\r\n      body.className = 'toast-body ' + options.bodyClass;\r\n      body.textContent = options.message;\r\n\r\n      node.appendChild(body);\r\n    }\r\n    \r\n    return node;\r\n  },\r\n  \r\n};","dmx.Actions({\r\n\r\n  'toast.setup' (options) {\r\n    dmx.bs5toast.setup(this.parse(options));\r\n  },\r\n\r\n  'toast.show' (options) {\r\n    dmx.bs5toast.show(this.parse(options));\r\n  },\r\n\r\n  'toast.clear' () {\r\n    dmx.bs5toast.clear();\r\n  }\r\n\r\n});","dmx.Component('bs5-toasts', {\r\n\r\n  attributes: {\r\n    position: {\r\n      type: String,\r\n      default: 'top',\r\n      enum: ['top', 'bottom'],\r\n    },\r\n\r\n    align: {\r\n      type: String,\r\n      default: 'right',\r\n      enum: ['left', 'right'],\r\n    },\r\n\r\n    offsetX: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    offsetY: {\r\n      type: Number,\r\n      default: 15,\r\n    },\r\n\r\n    minWidth: {\r\n      type: Number,\r\n      default: 240,\r\n    },\r\n\r\n    maxWidth: {\r\n      type: Number,\r\n      default: 350,\r\n    },\r\n\r\n    zIndex: {\r\n      type: Number,\r\n      default: 10000,\r\n    },\r\n\r\n    delay: {\r\n      type: Number,\r\n      default: 5000,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    clear () {\r\n      this._clear();\r\n    },\r\n\r\n    show (options) {\r\n      this._show(options);\r\n    }\r\n  },\r\n\r\n  init (node) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  performUpdate (updatedProps) {\r\n    dmx.bs5toast.setup(this.props);\r\n  },\r\n\r\n  _clear () {\r\n    dmx.bs5toast.clear();\r\n  },\r\n\r\n  _show (options) { // options: title, message, delay, closable\r\n    dmx.bs5toast.show(options);\r\n  }\r\n\r\n});"]}